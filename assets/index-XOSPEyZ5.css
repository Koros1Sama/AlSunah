:root{--bg-primary: #0D0D0D;--bg-secondary: #1A1A2E;--bg-card: #16213E;--bg-card-hover: #1C2A4A;--bg-elevated: #0F3460;--bg-surface: rgba(22, 33, 62, .7);--gold: #D4AF37;--gold-light: #F5D061;--gold-dark: #B8960C;--gold-glow: rgba(212, 175, 55, .3);--gold-gradient: linear-gradient(135deg, #D4AF37 0%, #F5D061 50%, #D4AF37 100%);--gold-subtle: rgba(212, 175, 55, .08);--text-primary: #FFFFFF;--text-secondary: #A0A0B4;--text-muted: #6B6B80;--text-gold: #D4AF37;--success: #00C853;--success-bg: rgba(0, 200, 83, .12);--error: #FF5252;--error-bg: rgba(255, 82, 82, .12);--info: #448AFF;--info-bg: rgba(68, 138, 255, .12);--warning: #FFB300;--warning-bg: rgba(255, 179, 0, .12);--streak-fire: #FF6B35;--streak-blaze: #FF4500;--streak-glow: #FFD700;--font-ui: "Cairo", "Segoe UI", sans-serif;--font-hadith: "Amiri", serif;--fs-xs: .75rem;--fs-sm: .875rem;--fs-base: 1rem;--fs-md: 1.125rem;--fs-lg: 1.25rem;--fs-xl: 1.5rem;--fs-2xl: 1.875rem;--fs-3xl: 2.25rem;--fs-4xl: 3rem;--fw-light: 300;--fw-regular: 400;--fw-semibold: 600;--fw-bold: 700;--fw-extrabold: 800;--space-xs: .25rem;--space-sm: .5rem;--space-md: 1rem;--space-lg: 1.5rem;--space-xl: 2rem;--space-2xl: 3rem;--space-3xl: 4rem;--radius-sm: 8px;--radius-md: 12px;--radius-lg: 16px;--radius-xl: 24px;--radius-full: 50%;--radius-pill: 999px;--shadow-sm: 0 2px 8px rgba(0, 0, 0, .3);--shadow-md: 0 4px 16px rgba(0, 0, 0, .4);--shadow-lg: 0 8px 32px rgba(0, 0, 0, .5);--shadow-gold: 0 4px 20px rgba(212, 175, 55, .25);--shadow-glow: 0 0 20px rgba(212, 175, 55, .15);--glass-bg: rgba(22, 33, 62, .6);--glass-border: rgba(212, 175, 55, .15);--glass-blur: blur(12px);--transition-fast: .15s ease;--transition-base: .25s ease;--transition-slow: .4s ease;--transition-spring: .5s cubic-bezier(.34, 1.56, .64, 1);--z-base: 1;--z-dropdown: 10;--z-sticky: 20;--z-modal: 100;--z-popup: 200;--z-toast: 300;--nav-height: 64px;--header-height: 56px;--max-width: 430px;--safe-area-bottom: env(safe-area-inset-bottom, 0px)}*,*:before,*:after{box-sizing:border-box;margin:0;padding:0}html{font-size:16px;-webkit-text-size-adjust:100%;scroll-behavior:smooth}body{font-family:var(--font-ui);font-weight:var(--fw-regular);color:var(--text-primary);background-color:var(--bg-primary);line-height:1.6;min-height:100dvh;overflow-x:hidden;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;direction:rtl}#app{max-width:var(--max-width);margin:0 auto;min-height:100dvh;position:relative;overflow-x:hidden;background:var(--bg-primary)}a{color:var(--gold);text-decoration:none}img{max-width:100%;display:block}button{font-family:inherit;cursor:pointer;border:none;background:none;color:inherit;font-size:inherit}input,select,textarea{font-family:inherit;font-size:inherit;color:inherit;background:none;border:none}::-webkit-scrollbar{width:4px}::-webkit-scrollbar-track{background:var(--bg-primary)}::-webkit-scrollbar-thumb{background:var(--gold-dark);border-radius:var(--radius-pill)}.text-hadith{font-family:var(--font-hadith);font-size:var(--fs-lg);line-height:2;color:var(--text-primary)}.text-ayah{font-family:var(--font-hadith);font-size:var(--fs-xl);line-height:2.2;color:var(--gold-light);text-align:center}.text-gold{color:var(--gold)}.text-muted{color:var(--text-secondary)}.text-center{text-align:center}.btn{display:inline-flex;align-items:center;justify-content:center;gap:var(--space-sm);padding:var(--space-md) var(--space-xl);border-radius:var(--radius-md);font-weight:var(--fw-bold);font-size:var(--fs-base);transition:all var(--transition-base);position:relative;overflow:hidden;min-height:48px;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.btn:after{content:"";position:absolute;inset:0;background:#fff0;transition:background var(--transition-fast)}.btn:active:after{background:#ffffff1a}.btn-primary{background:var(--gold-gradient);color:var(--bg-primary);box-shadow:var(--shadow-gold)}.btn-primary:hover{transform:translateY(-2px);box-shadow:0 6px 24px #d4af3759}.btn-primary:active{transform:translateY(0)}.btn-secondary{background:var(--bg-card);color:var(--gold);border:1px solid var(--gold-dark)}.btn-secondary:hover{background:var(--bg-card-hover);border-color:var(--gold)}.btn-ghost{background:transparent;color:var(--text-secondary)}.btn-ghost:hover{color:var(--gold);background:var(--gold-subtle)}.btn-success{background:var(--success);color:#fff}.btn-error{background:var(--error);color:#fff}.btn-block{width:100%}.btn-lg{padding:var(--space-lg) var(--space-2xl);font-size:var(--fs-lg);border-radius:var(--radius-lg)}.btn-sm{padding:var(--space-sm) var(--space-md);font-size:var(--fs-sm);min-height:36px}.btn-icon{width:44px;height:44px;padding:0;border-radius:var(--radius-full);font-size:var(--fs-xl)}.card{background:var(--glass-bg);backdrop-filter:var(--glass-blur);-webkit-backdrop-filter:var(--glass-blur);border:1px solid var(--glass-border);border-radius:var(--radius-lg);padding:var(--space-lg);transition:all var(--transition-base)}.card:hover{border-color:var(--gold);box-shadow:var(--shadow-glow)}.card-gold{border-color:var(--gold);background:linear-gradient(135deg,#d4af3714,#16213e99)}.card-flat{backdrop-filter:none;-webkit-backdrop-filter:none;background:var(--bg-card)}.progress-bar{width:100%;height:8px;background:var(--bg-secondary);border-radius:var(--radius-pill);overflow:hidden;position:relative}.progress-bar-fill{height:100%;background:var(--gold-gradient);border-radius:var(--radius-pill);transition:width var(--transition-slow);position:relative}.progress-bar-fill:after{content:"";position:absolute;inset:0;background:linear-gradient(90deg,transparent 0%,rgba(255,255,255,.3) 50%,transparent 100%);animation:shimmer 2s infinite}.progress-bar-lg{height:12px}.progress-bar-sm{height:4px}.badge{display:inline-flex;align-items:center;gap:var(--space-xs);padding:2px 10px;border-radius:var(--radius-pill);font-size:var(--fs-xs);font-weight:var(--fw-bold)}.badge-gold{background:var(--gold-subtle);color:var(--gold);border:1px solid rgba(212,175,55,.3)}.badge-success{background:var(--success-bg);color:var(--success)}.badge-error{background:var(--error-bg);color:var(--error)}.badge-info{background:var(--info-bg);color:var(--info)}.badge-level{background:var(--gold-gradient);color:var(--bg-primary);font-size:var(--fs-sm);padding:4px 14px}.evidence-card{background:linear-gradient(135deg,#0f346080,#16213ecc);border:1px solid rgba(212,175,55,.2);border-radius:var(--radius-lg);padding:var(--space-lg);position:relative;overflow:hidden}.evidence-card:before{content:"‚ùù";position:absolute;top:-10px;right:10px;font-size:80px;color:#d4af370f;font-family:var(--font-hadith);line-height:1}.evidence-text{font-family:var(--font-hadith);font-size:var(--fs-lg);line-height:2;color:var(--text-primary);text-align:center;margin-bottom:var(--space-md);position:relative}.evidence-source{display:flex;align-items:center;justify-content:center;gap:var(--space-sm);color:var(--text-secondary);font-size:var(--fs-sm)}.evidence-grade{display:inline-flex;align-items:center;gap:4px;font-size:var(--fs-xs);padding:2px 8px;border-radius:var(--radius-pill)}.grade-sahih{background:#00c85326;color:var(--success)}.grade-muttafaq{background:#00c85340;color:#00e676}.grade-hasan{background:#ffb30026;color:var(--warning)}.grade-quran{background:#448aff26;color:var(--info)}.bottom-nav{position:fixed;bottom:0;left:50%;transform:translate(-50%);width:100%;max-width:var(--max-width);height:var(--nav-height);background:#0d0d0df2;backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border-top:1px solid rgba(212,175,55,.1);display:flex;align-items:center;justify-content:space-around;padding-bottom:var(--safe-area-bottom);z-index:var(--z-sticky)}.nav-item{display:flex;flex-direction:column;align-items:center;gap:2px;padding:var(--space-sm);color:var(--text-muted);font-size:var(--fs-xs);transition:color var(--transition-fast);position:relative;-webkit-tap-highlight-color:transparent}.nav-item-icon{font-size:24px;line-height:1;transition:transform var(--transition-spring)}.nav-item.active{color:var(--gold)}.nav-item.active .nav-item-icon{transform:scale(1.15)}.nav-item.active:after{content:"";position:absolute;top:-1px;left:50%;transform:translate(-50%);width:24px;height:3px;background:var(--gold-gradient);border-radius:0 0 var(--radius-sm) var(--radius-sm)}.screen-header{display:flex;align-items:center;justify-content:space-between;padding:var(--space-md) var(--space-lg);height:var(--header-height);position:sticky;top:0;background:#0d0d0de6;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);z-index:var(--z-sticky)}.screen-header-title{font-size:var(--fs-lg);font-weight:var(--fw-bold)}.screen-header-back{font-size:24px;color:var(--gold);padding:var(--space-sm)}.screen{padding-bottom:calc(var(--nav-height) + var(--space-lg));min-height:100dvh}.screen-padded{padding-left:var(--space-lg);padding-right:var(--space-lg)}.xp-display{display:flex;align-items:center;gap:var(--space-sm);font-weight:var(--fw-bold);color:var(--gold)}.level-badge{display:inline-flex;align-items:center;justify-content:center;width:36px;height:36px;border-radius:var(--radius-full);background:var(--gold-gradient);color:var(--bg-primary);font-weight:var(--fw-extrabold);font-size:var(--fs-sm);box-shadow:var(--shadow-gold)}.streak-display{display:flex;align-items:center;gap:var(--space-xs);font-weight:var(--fw-bold)}.streak-fire{font-size:24px;animation:flicker 1.5s ease-in-out infinite alternate}.practice-survey{padding:var(--space-lg);display:flex;flex-direction:column;gap:var(--space-md)}.practice-options{display:flex;flex-wrap:wrap;gap:var(--space-sm);justify-content:center}.practice-option{flex:1;min-width:80px;background:var(--bg-primary);border:1px solid var(--border);border-radius:var(--radius-lg);padding:var(--space-sm);display:flex;flex-direction:column;align-items:center;gap:var(--space-xs);cursor:pointer;transition:all var(--transition-fast);color:var(--text-primary)}.practice-option:hover{background:var(--bg-hover);border-color:var(--gold)}.practice-option.selected{background:#d4af371a;border-color:var(--gold);border-width:2px}.practice-option.selected .po-text{color:var(--gold);font-weight:var(--fw-bold)}.po-icon{font-size:24px}.po-text{font-size:var(--fs-xs)}.modal-overlay{position:fixed;inset:0;background:#000000b3;backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:var(--z-modal);padding:var(--space-lg);animation:fadeIn var(--transition-fast)}.modal-content{background:var(--bg-secondary);border:1px solid var(--glass-border);border-radius:var(--radius-xl);padding:var(--space-2xl);max-width:380px;width:100%;animation:slideUp var(--transition-base);text-align:center}.modal-icon{font-size:64px;margin-bottom:var(--space-md)}.modal-title{font-size:var(--fs-xl);font-weight:var(--fw-bold);margin-bottom:var(--space-sm)}.modal-text{color:var(--text-secondary);margin-bottom:var(--space-xl)}.options-list{display:flex;flex-direction:column;gap:var(--space-md)}.option-btn{display:flex;align-items:center;gap:var(--space-md);width:100%;padding:var(--space-md) var(--space-lg);background:var(--bg-card);border:2px solid rgba(255,255,255,.08);border-radius:var(--radius-md);text-align:right;font-size:var(--fs-base);transition:all var(--transition-fast);position:relative;-webkit-tap-highlight-color:transparent}.option-btn:active{transform:scale(.98)}.option-btn.selected{border-color:var(--gold);background:var(--gold-subtle)}.option-btn.correct{border-color:var(--success);background:var(--success-bg);animation:correctPulse .5s ease}.option-btn.wrong{border-color:var(--error);background:var(--error-bg);animation:shake .5s ease}.option-letter{display:flex;align-items:center;justify-content:center;width:32px;height:32px;border-radius:var(--radius-full);background:#ffffff0f;font-weight:var(--fw-bold);font-size:var(--fs-sm);color:var(--text-secondary);flex-shrink:0}.option-btn.selected .option-letter{background:var(--gold);color:var(--bg-primary)}.option-btn.correct .option-letter{background:var(--success);color:#fff}.option-btn.wrong .option-letter{background:var(--error);color:#fff}.feedback-bar{position:fixed;bottom:var(--nav-height);left:50%;transform:translate(-50%);width:100%;max-width:var(--max-width);padding:var(--space-lg) var(--space-xl);z-index:var(--z-dropdown);animation:slideUp var(--transition-base)}.feedback-bar-correct{background:linear-gradient(180deg,#00c853f2,#00963ef2)}.feedback-bar-wrong{background:linear-gradient(180deg,#ff5252f2,#c83232f2)}.feedback-title{font-size:var(--fs-lg);font-weight:var(--fw-bold);margin-bottom:var(--space-xs)}.feedback-text{font-size:var(--fs-sm);opacity:.9;margin-bottom:var(--space-md)}.category-card{display:flex;align-items:center;gap:var(--space-lg);padding:var(--space-lg);background:var(--glass-bg);-webkit-backdrop-filter:var(--glass-blur);backdrop-filter:var(--glass-blur);border:1px solid var(--glass-border);border-radius:var(--radius-lg);transition:all var(--transition-base);cursor:pointer;-webkit-tap-highlight-color:transparent}.category-card:active{transform:scale(.98)}.category-icon{font-size:40px;width:56px;height:56px;display:flex;align-items:center;justify-content:center;background:var(--gold-subtle);border-radius:var(--radius-md);flex-shrink:0}.category-info{flex:1;min-width:0}.category-name{font-size:var(--fs-md);font-weight:var(--fw-bold);margin-bottom:2px}.category-desc{font-size:var(--fs-xs);color:var(--text-secondary);margin-bottom:var(--space-sm)}.unit-node{display:flex;flex-direction:column;align-items:center;position:relative;cursor:pointer;-webkit-tap-highlight-color:transparent}.unit-circle{width:72px;height:72px;border-radius:var(--radius-full);display:flex;align-items:center;justify-content:center;font-size:32px;border:3px solid var(--bg-card);background:var(--bg-card);transition:all var(--transition-base);position:relative;z-index:1}.unit-node.completed .unit-circle{border-color:var(--gold);background:linear-gradient(135deg,#d4af3726,#16213ecc)}.unit-node.current .unit-circle{border-color:var(--gold);box-shadow:0 0 0 4px #d4af3733,var(--shadow-gold);animation:pulse 2s ease-in-out infinite}.unit-node.locked .unit-circle{opacity:.4;filter:grayscale(.5)}.unit-label{margin-top:var(--space-sm);font-size:var(--fs-sm);font-weight:var(--fw-semibold);color:var(--text-secondary);text-align:center;max-width:100px}.unit-node.current .unit-label{color:var(--gold)}.stats-grid{display:grid;grid-template-columns:1fr 1fr;gap:var(--space-md)}.stat-card{background:var(--bg-card);border-radius:var(--radius-md);padding:var(--space-lg);text-align:center}.stat-value{font-size:var(--fs-2xl);font-weight:var(--fw-extrabold);color:var(--gold);line-height:1.2}.stat-label{font-size:var(--fs-xs);color:var(--text-secondary);margin-top:var(--space-xs)}.achievement-card{display:flex;align-items:center;gap:var(--space-md);padding:var(--space-md);background:var(--bg-card);border-radius:var(--radius-md);border:1px solid transparent;transition:all var(--transition-base)}.achievement-card.unlocked{border-color:#d4af374d;background:linear-gradient(135deg,rgba(212,175,55,.06),var(--bg-card))}.achievement-card.locked{opacity:.5;filter:grayscale(.5)}.achievement-icon{font-size:36px;width:48px;height:48px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.achievement-info{flex:1}.achievement-name{font-weight:var(--fw-bold);font-size:var(--fs-sm)}.achievement-desc{font-size:var(--fs-xs);color:var(--text-secondary)}.calendar-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:4px;text-align:center}.calendar-header{font-size:var(--fs-xs);color:var(--text-muted);padding:var(--space-sm) 0;font-weight:var(--fw-semibold)}.calendar-day{aspect-ratio:1;display:flex;align-items:center;justify-content:center;border-radius:var(--radius-sm);font-size:var(--fs-sm);color:var(--text-secondary);position:relative}.calendar-day.active{background:var(--gold-subtle);color:var(--gold);font-weight:var(--fw-bold)}.calendar-day.today{border:1px solid var(--gold)}.calendar-day.has-activity:after{content:"";position:absolute;bottom:2px;left:50%;transform:translate(-50%);width:6px;height:6px;background:var(--gold);border-radius:var(--radius-full)}.settings-group{margin-bottom:var(--space-xl)}.settings-group-title{font-size:var(--fs-sm);font-weight:var(--fw-bold);color:var(--gold);margin-bottom:var(--space-md);padding:0 var(--space-sm)}.settings-item{display:flex;align-items:center;justify-content:space-between;padding:var(--space-md) var(--space-lg);background:var(--bg-card);border-bottom:1px solid rgba(255,255,255,.04)}.settings-item:first-of-type{border-radius:var(--radius-md) var(--radius-md) 0 0}.settings-item:last-of-type{border-radius:0 0 var(--radius-md) var(--radius-md);border-bottom:none}.settings-item:only-of-type{border-radius:var(--radius-md)}.settings-label{display:flex;align-items:center;gap:var(--space-md)}.settings-label-icon{font-size:20px}.toggle{position:relative;width:48px;height:28px}.toggle input{opacity:0;width:0;height:0}.toggle-slider{position:absolute;inset:0;background:var(--bg-elevated);border-radius:var(--radius-pill);transition:background var(--transition-base);cursor:pointer}.toggle-slider:before{content:"";position:absolute;top:3px;right:3px;width:22px;height:22px;background:var(--text-secondary);border-radius:var(--radius-full);transition:all var(--transition-base)}.toggle input:checked+.toggle-slider{background:var(--gold)}.toggle input:checked+.toggle-slider:before{transform:translate(-20px);background:var(--bg-primary)}.empty-state{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:var(--space-3xl) var(--space-xl);text-align:center}.empty-state-icon{font-size:64px;margin-bottom:var(--space-lg);opacity:.5}.empty-state-title{font-size:var(--fs-lg);font-weight:var(--fw-bold);margin-bottom:var(--space-sm)}.empty-state-text{color:var(--text-secondary);font-size:var(--fs-sm)}.divider{height:1px;background:#ffffff0f;margin:var(--space-lg) 0}.flex{display:flex}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-xs{gap:var(--space-xs)}.gap-sm{gap:var(--space-sm)}.gap-md{gap:var(--space-md)}.gap-lg{gap:var(--space-lg)}.gap-xl{gap:var(--space-xl)}.mt-sm{margin-top:var(--space-sm)}.mt-md{margin-top:var(--space-md)}.mt-lg{margin-top:var(--space-lg)}.mt-xl{margin-top:var(--space-xl)}.mb-sm{margin-bottom:var(--space-sm)}.mb-md{margin-bottom:var(--space-md)}.mb-lg{margin-bottom:var(--space-lg)}.mb-xl{margin-bottom:var(--space-xl)}.p-md{padding:var(--space-md)}.p-lg{padding:var(--space-lg)}.px-lg{padding-left:var(--space-lg);padding-right:var(--space-lg)}.w-full{width:100%}.hidden{display:none!important}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}[data-theme=classic]{--bg-primary: #111111;--bg-secondary: #1A1A1A;--bg-card: rgba(40, 40, 40, .85);--bg-card-hover: rgba(55, 55, 55, .9);--bg-elevated: #2A2A2A;--bg-surface: rgba(40, 40, 40, .7);--gold: #FFB800;--gold-light: #FFCC33;--gold-dark: #E0A000;--gold-glow: rgba(255, 184, 0, .3);--gold-gradient: linear-gradient(135deg, #FFB800 0%, #FFCC33 50%, #FFB800 100%);--gold-subtle: rgba(255, 184, 0, .1);--text-primary: #FFFFFF;--text-secondary: #B0B0B0;--text-muted: #808080;--text-gold: #FFB800;--success: #22C55E;--success-bg: rgba(34, 197, 94, .15);--error: #EF4444;--error-bg: rgba(239, 68, 68, .15);--glass-bg: rgba(40, 40, 40, .75);--glass-border: rgba(255, 184, 0, .12);--shadow-gold: 0 4px 20px rgba(255, 184, 0, .2);--shadow-glow: 0 0 20px rgba(255, 184, 0, .12)}[data-theme=classic] body{background-color:#111;background-image:url(/AlSunah/calligraphy-bg.svg);background-repeat:repeat;background-size:350px 350px}[data-theme=classic] #app{background:transparent}[data-theme=classic] .bottom-nav{background:#111111eb;border-top-color:#ffb80014}[data-theme=classic] .screen-header{background:#111111e0}[data-theme=classic] .lesson-header,[data-theme=classic] .lesson-action{background:#111111eb}[data-theme=classic] .option-btn{background:#dcdcdc1f;border-color:#ffffff1a}[data-theme=classic] .option-btn.selected{background:#ffb8001f;border-color:var(--gold)}[data-theme=classic] .option-btn.correct{background:#22c55e33;border-color:var(--success)}[data-theme=classic] .option-btn.wrong{background:#ef444433;border-color:var(--error)}[data-theme=classic] .category-card{background:#282828cc;border-color:#ffffff0f}[data-theme=classic] .evidence-card{background:linear-gradient(135deg,#32323299,#1e1e1ed9);border-color:#ffb80026}[data-theme=classic] .tree-banner{background:linear-gradient(135deg,#32323280,#1e1e1eb3);border-color:#ffb8001f}.exercise-icon-wrapper{width:56px;height:56px;border-radius:var(--radius-full);background:var(--gold-subtle);border:2px solid var(--gold);display:flex;align-items:center;justify-content:center;font-size:28px;margin:0 auto var(--space-lg)}.spiritual-note{display:flex;align-items:center;gap:var(--space-sm);padding:var(--space-sm) var(--space-md);background:#ffb8000f;border-right:3px solid var(--gold);border-radius:0 var(--radius-sm) var(--radius-sm) 0;font-size:var(--fs-sm);color:var(--text-secondary);margin-top:var(--space-md)}.theme-picker{display:flex;gap:var(--space-md)}.theme-option{flex:1;padding:var(--space-md);border-radius:var(--radius-md);border:2px solid rgba(255,255,255,.08);background:var(--bg-card);cursor:pointer;text-align:center;transition:all var(--transition-fast);-webkit-tap-highlight-color:transparent}.theme-option.active{border-color:var(--gold);background:var(--gold-subtle)}.theme-option-preview{width:48px;height:48px;border-radius:var(--radius-md);margin:0 auto var(--space-sm);border:2px solid rgba(255,255,255,.1)}.theme-option-label{font-size:var(--fs-sm);font-weight:var(--fw-bold)}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes fadeOut{0%{opacity:1}to{opacity:0}}@keyframes slideUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes slideDown{0%{opacity:0;transform:translateY(-30px)}to{opacity:1;transform:translateY(0)}}@keyframes slideInRight{0%{opacity:0;transform:translate(-30px)}to{opacity:1;transform:translate(0)}}@keyframes slideInLeft{0%{opacity:0;transform:translate(30px)}to{opacity:1;transform:translate(0)}}@keyframes scaleIn{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes bounceIn{0%{transform:scale(.3);opacity:0}50%{transform:scale(1.05)}70%{transform:scale(.9)}to{transform:scale(1);opacity:1}}@keyframes shake{0%,to{transform:translate(0)}10%,50%,90%{transform:translate(-4px)}30%,70%{transform:translate(4px)}}@keyframes pulse{0%,to{box-shadow:0 0 #d4af3766}50%{box-shadow:0 0 0 12px #d4af3700}}@keyframes shimmer{0%{transform:translate(-100%)}to{transform:translate(100%)}}@keyframes flicker{0%,to{opacity:1;transform:scale(1)}50%{opacity:.8;transform:scale(1.1)}}@keyframes correctPulse{0%{transform:scale(1)}50%{transform:scale(1.02)}to{transform:scale(1)}}@keyframes goldGlow{0%,to{box-shadow:0 0 10px #d4af3733}50%{box-shadow:0 0 25px #d4af3766}}@keyframes float{0%,to{transform:translateY(0)}50%{transform:translateY(-8px)}}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes confettiDrop{0%{opacity:1;transform:translateY(-40px) rotate(0) scale(1)}to{opacity:0;transform:translateY(200px) rotate(720deg) scale(.3)}}@keyframes starBurst{0%{transform:scale(0) rotate(0);opacity:0}50%{transform:scale(1.3) rotate(180deg);opacity:1}to{transform:scale(1) rotate(360deg);opacity:1}}@keyframes xpFloat{0%{opacity:1;transform:translateY(0) scale(1)}to{opacity:0;transform:translateY(-40px) scale(1.2)}}@keyframes treeSway{0%,to{transform:rotate(-1deg)}50%{transform:rotate(1deg)}}@keyframes leafGrow{0%{transform:scale(0);opacity:0}70%{transform:scale(1.2)}to{transform:scale(1);opacity:1}}@keyframes progressFill{0%{width:0}}@keyframes countUp{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.animate-fade-in{animation:fadeIn var(--transition-base) forwards}.animate-slide-up{animation:slideUp var(--transition-base) forwards}.animate-slide-down{animation:slideDown var(--transition-base) forwards}.animate-slide-right{animation:slideInRight var(--transition-base) forwards}.animate-scale-in{animation:scaleIn var(--transition-base) forwards}.animate-bounce-in{animation:bounceIn .6s forwards}.animate-shake{animation:shake .5s ease}.animate-pulse{animation:pulse 2s ease-in-out infinite}.animate-shimmer{position:relative;overflow:hidden}.animate-shimmer:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(212,175,55,.1),transparent);animation:shimmer 2s infinite}.animate-float{animation:float 3s ease-in-out infinite}.animate-gold-glow{animation:goldGlow 2s ease-in-out infinite}.animate-spin{animation:spin 1s linear infinite}.animate-tree-sway{animation:treeSway 4s ease-in-out infinite;transform-origin:bottom center}.stagger-item{opacity:0;animation:slideUp var(--transition-base) forwards}.stagger-item:nth-child(1){animation-delay:0ms}.stagger-item:nth-child(2){animation-delay:60ms}.stagger-item:nth-child(3){animation-delay:.12s}.stagger-item:nth-child(4){animation-delay:.18s}.stagger-item:nth-child(5){animation-delay:.24s}.stagger-item:nth-child(6){animation-delay:.3s}.stagger-item:nth-child(7){animation-delay:.36s}.stagger-item:nth-child(8){animation-delay:.42s}.stagger-item:nth-child(9){animation-delay:.48s}.stagger-item:nth-child(10){animation-delay:.54s}.xp-popup{position:fixed;font-size:var(--fs-lg);font-weight:var(--fw-extrabold);color:var(--gold);pointer-events:none;z-index:var(--z-toast);animation:xpFloat 1s ease-out forwards;text-shadow:0 0 10px rgba(212,175,55,.5)}.confetti-piece{position:fixed;top:0;width:10px;height:10px;border-radius:2px;pointer-events:none;z-index:var(--z-toast);animation:confettiDrop 2s ease-in forwards}.screen-enter{animation:fadeIn var(--transition-base) forwards}.screen-exit{animation:fadeOut var(--transition-fast) forwards}@media(prefers-reduced-motion:reduce){*,*:before,*:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}.home-header{padding:var(--space-lg) 0}.home-header-top{display:flex;align-items:center;justify-content:space-between;margin-bottom:var(--space-lg)}.home-logo{display:flex;align-items:center;gap:var(--space-sm)}.home-logo-icon{font-size:28px}.home-logo-text{font-size:var(--fs-xl);font-weight:var(--fw-extrabold);background:var(--gold-gradient);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.home-header-stats{display:flex;align-items:center;gap:var(--space-lg)}.home-xp-section{margin-bottom:var(--space-md)}.home-hasanat{display:flex;align-items:center;gap:var(--space-xs);font-size:var(--fs-sm);margin-bottom:var(--space-xl)}.tree-banner{display:flex;align-items:center;gap:var(--space-xl);padding:var(--space-xl);background:linear-gradient(135deg,#0f346066,#16213e99);border:1px solid rgba(212,175,55,.15);border-radius:var(--radius-xl);margin-bottom:var(--space-xl);cursor:pointer;transition:all var(--transition-base)}.tree-banner:hover{border-color:var(--gold)}.tree-visual{flex-shrink:0}.tree-emoji{font-size:64px;line-height:1}.tree-info{flex:1}.section-title{font-size:var(--fs-md);font-weight:var(--fw-bold);color:var(--text-primary);margin-bottom:var(--space-md);padding:0 var(--space-xs)}.categories-list{display:flex;flex-direction:column;gap:var(--space-md)}.learning-path{display:flex;flex-direction:column;align-items:center;gap:var(--space-xs);padding:var(--space-xl) 0}.unit-path-item{display:flex;flex-direction:column;align-items:center}.path-connector{width:3px;height:40px;background:var(--bg-card);margin:var(--space-sm) 0}.path-connector-done{background:var(--gold)}.unit-progress-ring{margin-top:4px}.lesson-screen{display:flex;flex-direction:column;min-height:100dvh;padding-bottom:0}.lesson-header{display:flex;align-items:center;gap:var(--space-md);padding:var(--space-md) var(--space-lg);position:sticky;top:0;background:#0d0d0df2;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);z-index:var(--z-sticky)}.lesson-progress-container{flex:1;display:flex;align-items:center;gap:var(--space-sm)}.lesson-content{flex:1;padding:var(--space-lg);overflow-y:auto}.lesson-action{padding:var(--space-lg);padding-bottom:calc(var(--space-lg) + var(--safe-area-bottom));background:#0d0d0df2;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-top:1px solid rgba(255,255,255,.06)}.learn-phase{text-align:center}.learn-icon{font-size:64px;margin-bottom:var(--space-md)}.learn-title{font-size:var(--fs-2xl);font-weight:var(--fw-extrabold);background:var(--gold-gradient);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:var(--space-md)}.learn-explanation{color:var(--text-secondary);font-size:var(--fs-md);line-height:1.8;margin-bottom:var(--space-xl);text-align:right}.learn-meta{display:flex;flex-direction:column;gap:var(--space-md);margin-bottom:var(--space-lg)}.learn-meta-item{display:flex;align-items:center;gap:var(--space-sm);background:var(--bg-card);padding:var(--space-md) var(--space-lg);border-radius:var(--radius-md);font-size:var(--fs-sm);text-align:right}.learn-meta-icon{font-size:20px;flex-shrink:0}.exercise{padding:var(--space-md) 0}.exercise-type-badge{margin-bottom:var(--space-lg)}.exercise-question{font-size:var(--fs-lg);font-weight:var(--fw-bold);margin-bottom:var(--space-xl);line-height:1.8;text-align:right}.tf-options{display:grid;grid-template-columns:1fr 1fr;gap:var(--space-md)}.tf-btn{display:flex;flex-direction:column;align-items:center;gap:var(--space-sm);padding:var(--space-xl);background:var(--bg-card);border:2px solid rgba(255,255,255,.08);border-radius:var(--radius-lg);font-size:var(--fs-lg);font-weight:var(--fw-bold);cursor:pointer;transition:all var(--transition-fast);-webkit-tap-highlight-color:transparent}.tf-btn:active{transform:scale(.97)}.tf-icon{font-size:32px}.tf-btn.selected{border-color:var(--gold);background:var(--gold-subtle)}.tf-btn.correct{border-color:var(--success);background:var(--success-bg)}.tf-btn.wrong{border-color:var(--error);background:var(--error-bg)}.tf-true .tf-icon{color:var(--success)}.tf-false .tf-icon{color:var(--error)}.order-list{display:flex;flex-direction:column;gap:var(--space-md)}.order-item{display:flex;align-items:center;gap:var(--space-md);padding:var(--space-md) var(--space-lg);background:var(--bg-card);border:2px solid rgba(255,255,255,.08);border-radius:var(--radius-md);cursor:pointer;transition:all var(--transition-fast);-webkit-tap-highlight-color:transparent}.order-item.selected{border-color:var(--gold);background:var(--gold-subtle)}.order-number{display:flex;align-items:center;justify-content:center;width:28px;height:28px;border-radius:var(--radius-full);background:#ffffff0f;font-weight:var(--fw-bold);font-size:var(--fs-sm);color:var(--gold);flex-shrink:0}.order-text{text-align:right;font-size:var(--fs-sm)}.lesson-feedback{margin-top:var(--space-lg);padding:var(--space-lg);border-radius:var(--radius-lg)}.feedback-correct{background:var(--success-bg);border:1px solid rgba(0,200,83,.3)}.feedback-wrong{background:var(--error-bg);border:1px solid rgba(255,82,82,.3)}.feedback-title{font-size:var(--fs-lg);font-weight:var(--fw-bold);margin-bottom:var(--space-sm)}.feedback-text{color:var(--text-secondary);font-size:var(--fs-sm);margin-bottom:var(--space-sm)}.results-screen{text-align:center;padding:var(--space-xl) 0}.results-emoji{font-size:72px;margin-bottom:var(--space-md)}.results-title{font-size:var(--fs-2xl);font-weight:var(--fw-extrabold);background:var(--gold-gradient);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:var(--space-sm)}.results-subtitle{color:var(--text-secondary);margin-bottom:var(--space-xl)}.results-stats{display:flex;justify-content:center;gap:var(--space-2xl);margin-bottom:var(--space-xl)}.results-stat{text-align:center}.results-stat-value{font-size:var(--fs-3xl);font-weight:var(--fw-extrabold);line-height:1.2}.results-stat-label{font-size:var(--fs-xs);color:var(--text-secondary);margin-top:4px}.results-rewards{display:flex;flex-direction:column;gap:var(--space-md);align-items:center;margin-bottom:var(--space-xl)}.reward-item{display:flex;align-items:center;gap:var(--space-sm);padding:var(--space-sm) var(--space-lg);background:var(--gold-subtle);border:1px solid rgba(212,175,55,.2);border-radius:var(--radius-pill);font-weight:var(--fw-bold);color:var(--gold);font-size:var(--fs-sm)}.filter-tabs{display:flex;gap:var(--space-sm);overflow-x:auto;padding-bottom:var(--space-sm);-webkit-overflow-scrolling:touch;scrollbar-width:none}.filter-tabs::-webkit-scrollbar{display:none}.filter-tab{flex-shrink:0;padding:var(--space-sm) var(--space-md);background:var(--bg-card);border:1px solid rgba(255,255,255,.06);border-radius:var(--radius-pill);font-size:var(--fs-xs);color:var(--text-secondary);cursor:pointer;transition:all var(--transition-fast);white-space:nowrap;-webkit-tap-highlight-color:transparent}.filter-tab.active{background:var(--gold-subtle);border-color:var(--gold);color:var(--gold)}.search-box{display:flex;align-items:center;gap:var(--space-sm);background:var(--bg-card);border:1px solid rgba(255,255,255,.06);border-radius:var(--radius-md);padding:var(--space-sm) var(--space-md)}.search-icon{font-size:18px}.search-input{flex:1;padding:var(--space-sm);color:var(--text-primary);font-size:var(--fs-sm)}.search-input::placeholder{color:var(--text-muted)}.evidence-list{display:flex;flex-direction:column}.heatmap-container{display:flex;flex-direction:column;gap:2px;direction:ltr}.heatmap-months{display:flex;gap:2px}.heatmap-month-label{width:14px;font-size:9px;color:var(--text-muted);text-align:center;flex-shrink:0}.heatmap-row{display:flex;gap:2px}.heatmap-day-label{width:28px;font-size:9px;color:var(--text-muted);display:flex;align-items:center;justify-content:flex-end;padding-right:4px;flex-shrink:0;direction:rtl}.heatmap-cell{width:14px;height:14px;border-radius:3px;cursor:pointer;transition:all .15s ease;flex-shrink:0}.heatmap-cell:hover{outline:2px solid var(--gold);outline-offset:1px}.heatmap-cell.level--1{background:transparent;cursor:default}.heatmap-cell.level--1:hover{outline:none}.heatmap-cell.level-0{background:#ffffff0a}.heatmap-cell.level-1{background:#d4af3733}.heatmap-cell.level-2{background:#d4af3766}.heatmap-cell.level-3{background:#d4af37a6}.heatmap-cell.level-4{background:#d4af37e6;box-shadow:0 0 6px #d4af374d}.heatmap-cell.today{outline:2px solid var(--gold);outline-offset:1px}.heatmap-legend{display:flex;align-items:center;justify-content:flex-end;gap:4px;margin-top:var(--space-sm);direction:ltr}.practice-overview-grid{display:flex;flex-wrap:wrap;gap:var(--space-sm);justify-content:center}.practice-overview-item{display:flex;flex-direction:column;align-items:center;background:var(--bg-card);padding:var(--space-sm) var(--space-md);border-radius:var(--radius-md);min-width:72px;border:1px solid rgba(255,255,255,.06)}.browse-sunnah-item{display:flex;align-items:center;justify-content:space-between;padding:var(--space-sm) 0;border-bottom:1px solid rgba(255,255,255,.04);cursor:pointer;transition:background .15s}.browse-sunnah-item:last-of-type{border-bottom:none}.browse-sunnah-item:hover{background:#ffffff05}.browse-sunnah-info{flex:1;min-width:0}.browse-practice-options{display:flex;flex-wrap:wrap;gap:var(--space-xs);padding:var(--space-sm) 0 var(--space-md);justify-content:center;border-bottom:1px solid rgba(255,255,255,.06)}.browse-practice-btn{display:flex;align-items:center;gap:4px;padding:6px 12px;border-radius:var(--radius-md);background:var(--bg-primary);border:1px solid rgba(255,255,255,.08);color:var(--text-primary);cursor:pointer;font-size:var(--fs-xs);transition:all .15s}.browse-practice-btn:hover{border-color:var(--btn-color, var(--gold));background:#ffffff0d}.browse-practice-btn.active{border-color:var(--btn-color, var(--gold));background:#d4af371a;color:var(--btn-color, var(--gold));font-weight:var(--fw-bold)}.recent-lessons-list{display:flex;flex-direction:column;gap:var(--space-sm)}.recent-lesson-item{display:flex;align-items:center;gap:var(--space-md);padding:var(--space-md);background:var(--bg-card);border-radius:var(--radius-md);border:1px solid rgba(255,255,255,.04)}.recent-lesson-icon{width:40px;height:40px;border-radius:var(--radius-md);display:flex;align-items:center;justify-content:center;font-size:18px;flex-shrink:0}.recent-lesson-info{flex:1;min-width:0}.review-banner{display:flex;align-items:center;gap:var(--space-md);padding:var(--space-md) var(--space-lg);background:linear-gradient(135deg,#448aff1a,#16213e99);border:1px solid rgba(68,138,255,.2);border-radius:var(--radius-lg)}.review-banner-icon{font-size:32px}.review-banner-text{flex:1}.settings-select{padding:var(--space-sm) var(--space-md);background:var(--bg-elevated);border:1px solid rgba(255,255,255,.1);border-radius:var(--radius-sm);color:var(--text-primary);font-size:var(--fs-sm)}.profile-avatar{font-size:64px;width:96px;height:96px;display:flex;align-items:center;justify-content:center;margin:0 auto;background:var(--gold-subtle);border-radius:var(--radius-full);border:3px solid var(--gold);box-shadow:var(--shadow-gold)}.detail-stat{display:flex;align-items:center;justify-content:space-between;padding:var(--space-sm) 0}.achievements-list{display:flex;flex-direction:column;gap:var(--space-sm)}
